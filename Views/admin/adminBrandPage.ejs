<section class="home-section">
    <!-- Button trigger modal -->
    <div class="d-grid gap-2 d-md-flex justify-content-md-end m-5">
    <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
      Add Brand
    </button>
    </div>
    
    <form action="/admin/addBrand" method="post" onsubmit="return brandValidation()">
    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="modal-title fs-5" id="exampleModalLabel">Add Category</h1>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <label for="addSubCategory">SELECT CATEGORY</label>
            <select class="form-select" aria-label="Default select example" name="categoryName" id="categoryName">
                <option selected></option>
                <% for(var i=0; i<category.length; i++) { %>
                  <option value="<%= category[i].newCategory%>"><%= category[i].newCategory%></option>
                  <% } %>
              </select><br>
              <label for="addCategory">Brand</label>
            <input type="text" name="brand" id="brand"><br><br>
          </div>
          <span class="text-danger text-center" id="brandError"></span>
          <div class="modal-footer">
            <button type="submit" class="btn btn-danger" data-bs-dismiss="modal">Cancel</button>
            <button type="submit" class="btn btn-primary">Save</button>
          </div>
        </div>
      </div>
    </form>
    </div>
    </section>
    <section class="home-section mt-5">
      <div class="container mt-5">
        <table class="table">
          <thead>
            <tr>
              <th scope="col">S.NO</th>
              <th scope="col">Category Name</th>
              <th scope="col">Brand</th>
              <th scope="col">Edit Category</th>
              <th scope="col">Delete Category</th>
            </tr>
          </thead>
          <tbody>
            <% for (var i=0;i<brand.length;i++) {%> 
            <tr>
              <th scope="row"><%= i+1 %></th>
              <td><%= brand[i].categoryName %></td>
              <td><%= brand[i].brand %></td>
              <td><a class="btn btn-danger" href="">Edit</a></td>
              <td><a class="btn btn-primary" href="/admin/deleteBrand?id=<%= brand[i]._id%>">Delete</a></td>
            </tr>
            <% } %>
          </tbody>
        </table>
       </div>
    </section>
     <script>
      
    const myModal = document.getElementById('myModal')
    const myInput = document.getElementById('myInput')
    
    myModal.addEventListener('shown.bs.modal', () => {
      myInput.focus()
    })
     </script>
    
    <script>
      function brandValidation(){
        let flag=0
        let category = document.getElementById('categoryName').value.trim
        let brand = document.getElementById('brand').value.trim()
    
        if(category === ''){
          document.getElementById('categoryName').innerHTML = 'Category Required'
          flag=1
        }
        else{
          document.getElementById('categoryName').innerHTML= ''
        }

        
        if(brand === ''){
          document.getElementById('brandError').innerHTML = 'Brand Required'
          flag=1
        }
        else{
          document.getElementById('brandError').innerHTML= ''
        }
    
        if(flag == 1){
          return false
        }
      }
    
    </script>